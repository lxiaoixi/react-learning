(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{122:function(e,t,a){e.exports=a(251)},127:function(e,t,a){},129:function(e,t,a){},251:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),o=a(8),c=a.n(o),i=(a(127),a(119)),s=a(26),l=a(27),u=a(29),h=a(28),m=a(30),p=a(12),b=(a(129),a(131),a(254)),d=a(253),v=a(255),f=b.a.Option,S=d.a.Item,O=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).input=null,a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.input&&this.input.focus()}},{key:"sortSelect",value:function(){var e=this.props,t=e.sortOptions,a=e.onSort,n=t.map(function(e){return r.a.createElement(f,{value:e.value},e.label)});return r.a.createElement(b.a,{defaultValue:"NONE",style:{width:120},onChange:a},r.a.createElement(f,{value:"NONE"},"\u9ed8\u8ba4"),n)}},{key:"render",value:function(){var e=this,t=this.props,a=t.onChange,n=t.value,o=t.children;return r.a.createElement("div",null,r.a.createElement(d.a,{layout:"inline"},r.a.createElement(S,{label:o},r.a.createElement(v.a,{onChange:a,value:n,ref:function(t){return e.input=t}})),r.a.createElement(S,{label:"Sort"},this.sortSelect())))}}]),t}(n.Component),y=function(e){function t(e){return Object(s.a)(this,t),Object(u.a)(this,Object(h.a)(t).call(this,e))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.onClick,a=void 0===t?"":t,n=e.className,o=void 0===n?"":n,c=e.children,i=e.disabled,s=void 0!==i&&i;return r.a.createElement("button",{onClick:a,className:o,disabled:s},c)}}]),t}(n.Component),j=a(118),g=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).state={sortKey:"NONE"},a.sortBySortKey=a.sortBySortKey.bind(Object(p.a)(Object(p.a)(a))),a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"sortBySortKey",value:function(e,t){return Object(j.sortBy)(e,t)}},{key:"render",value:function(){var e={width:"40%"},t={width:"30%"},a={width:"10%"},n=this.props,o=n.list,c=n.onDelete,i=n.isSearched,s=n.page,l=n.pageSearch,u=n.sortKey,h=o;return"NONE"!==u&&(h=this.sortBySortKey(o,u)),r.a.createElement("div",null,r.a.createElement("div",{className:"table"},h.filter(i()).map(function(n){return r.a.createElement("div",{key:n.objectID,className:"table-row"},r.a.createElement("span",{style:e},r.a.createElement("a",{href:n.url},n.title)),r.a.createElement("span",{style:t},n.author),r.a.createElement("span",{style:a},n.num_comments),r.a.createElement("span",{style:a},n.points),r.a.createElement("span",{style:a},r.a.createElement(y,{type:"primary",onClick:function(){c(n.objectID)},className:"button-inline"},"\u5220\u9664")))})),r.a.createElement("div",{className:"interactions"},r.a.createElement(y,{onClick:function(){return l({page:s-1})},disabled:!(s>0)},"Last"),r.a.createElement(y,{onClick:function(){return l({page:s+1})}},"Next")))}}]),t}(n.Component),E=a(252),k=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).state={list:[],welcome:"Welcome to the Road to learn React",user:{firstName:"liu",lastName:"xiaoxi"},searchTerm:"",page:0,error:null,isLoading:!1,sortOptions:[{value:"title",label:"\u6807\u9898"},{value:"author",label:"\u4f5c\u8005"},{value:"num_comments",label:"\u8bc4\u8bba"},{value:"points",label:"\u8bc4\u5206"}],sortKey:"NONE"},a.onDelete=a.onDelete.bind(Object(p.a)(Object(p.a)(a))),a.onSearchChange=a.onSearchChange.bind(Object(p.a)(Object(p.a)(a))),a.isSearched=a.isSearched.bind(Object(p.a)(Object(p.a)(a))),a.fetchSearchTopStories=a.fetchSearchTopStories.bind(Object(p.a)(Object(p.a)(a))),a.setSearchTopStories=a.setSearchTopStories.bind(Object(p.a)(Object(p.a)(a))),a.onSort=a.onSort.bind(Object(p.a)(Object(p.a)(a))),a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.fetchSearchTopStories(this.state.searchTerm)}},{key:"fetchSearchTopStories",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=t.searchTerm,n=void 0===a?this.state.searchTerm:a,r=t.page,o=void 0===r?0:r;o=o<0?0:o,this.setState({isLoading:!0}),fetch("".concat("https://hn.algolia.com/api/v1").concat("/search","?").concat("query=").concat(n,"&").concat("page=").concat(o)).then(function(e){return e.json()}).then(function(t){return e.setSearchTopStories(t,o)}).catch(function(t){return e.setState({error:t})})}},{key:"setSearchTopStories",value:function(e,t){this.setState({list:e.hits,page:t,isLoading:!1})}},{key:"onDelete",value:function(e){var t=this.state.list.filter(function(t){return t.objectID!==e});this.setState({list:Object(i.a)(t)})}},{key:"onSearchChange",value:function(e){this.setState({searchTerm:e.target.value}),this.fetchSearchTopStories({searchTerm:e.target.value})}},{key:"isSearched",value:function(){return function(e){return e}}},{key:"onSort",value:function(e){this.setState({sortKey:e})}},{key:"render",value:function(){var e=this.state,t=e.user,a=e.list,n=e.searchTerm,o=e.page,c=e.error,i=e.isLoading,s=e.sortOptions,l=e.sortKey;return c?r.a.createElement("p",null,"Something went wrong."):r.a.createElement("div",{className:"page"},r.a.createElement("h1",null,t.firstName+t.lastName+" \u521d\u8bc6react"),r.a.createElement("div",{className:"interactions"},r.a.createElement(O,{onChange:this.onSearchChange,value:n,sortOptions:s,onSort:this.onSort},"Search")),i?r.a.createElement("div",{style:{textAlign:"center",marginTop:"100px"}},r.a.createElement(E.a,{size:"large"})):r.a.createElement(g,{list:a,onDelete:this.onDelete,isSearched:this.isSearched,page:o,pageSearch:this.fetchSearchTopStories,sortKey:l}))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(k,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[122,2,1]]]);
//# sourceMappingURL=main.eb464780.chunk.js.map